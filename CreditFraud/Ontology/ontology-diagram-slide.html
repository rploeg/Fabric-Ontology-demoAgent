<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Credit Fraud Detection - Ontology Architecture</title>
    <script src="https://cdn.jsdelivr.net/npm/mermaid/dist/mermaid.min.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #1a1a2e 0%, #16213e 50%, #0f3460 100%);
            min-height: 100vh;
            color: #ffffff;
            padding: 20px;
        }
        
        .container {
            max-width: 1600px;
            margin: 0 auto;
        }
        
        header {
            text-align: center;
            margin-bottom: 30px;
        }
        
        h1 {
            font-size: 2.5rem;
            background: linear-gradient(90deg, #00d4ff, #7c3aed, #f472b6);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            margin-bottom: 10px;
        }
        
        .subtitle {
            color: #94a3b8;
            font-size: 1.2rem;
        }
        
        .metrics-row {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }
        
        .metric-card {
            background: linear-gradient(145deg, rgba(255,255,255,0.1), rgba(255,255,255,0.05));
            border: 1px solid rgba(255,255,255,0.1);
            border-radius: 16px;
            padding: 20px;
            text-align: center;
            backdrop-filter: blur(10px);
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }
        
        .metric-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 40px rgba(0, 212, 255, 0.2);
        }
        
        .metric-value {
            font-size: 2.5rem;
            font-weight: bold;
            background: linear-gradient(90deg, #00d4ff, #7c3aed);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }
        
        .metric-label {
            color: #94a3b8;
            font-size: 0.9rem;
            margin-top: 5px;
        }
        
        .diagram-container {
            background: linear-gradient(145deg, rgba(255,255,255,0.08), rgba(255,255,255,0.02));
            border: 1px solid rgba(255,255,255,0.1);
            border-radius: 20px;
            padding: 30px;
            margin-bottom: 30px;
            overflow-x: auto;
        }
        
        .mermaid {
            display: flex;
            justify-content: center;
        }
        
        .legend-section {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin-top: 30px;
        }
        
        .legend-card {
            background: linear-gradient(145deg, rgba(255,255,255,0.08), rgba(255,255,255,0.02));
            border: 1px solid rgba(255,255,255,0.1);
            border-radius: 16px;
            padding: 20px;
        }
        
        .legend-title {
            font-size: 1.2rem;
            color: #00d4ff;
            margin-bottom: 15px;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .legend-title::before {
            content: '';
            width: 4px;
            height: 20px;
            background: linear-gradient(180deg, #00d4ff, #7c3aed);
            border-radius: 2px;
        }
        
        .entity-list, .relationship-list {
            list-style: none;
        }
        
        .entity-list li, .relationship-list li {
            padding: 8px 0;
            border-bottom: 1px solid rgba(255,255,255,0.05);
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .entity-list li:last-child, .relationship-list li:last-child {
            border-bottom: none;
        }
        
        .entity-badge {
            display: inline-block;
            padding: 4px 12px;
            border-radius: 20px;
            font-size: 0.8rem;
            font-weight: 600;
        }
        
        .badge-dimension { background: rgba(0, 212, 255, 0.2); color: #00d4ff; }
        .badge-fact { background: rgba(124, 58, 237, 0.2); color: #a78bfa; }
        .badge-timeseries { background: rgba(244, 114, 182, 0.2); color: #f472b6; }
        
        .relationship-arrow {
            color: #7c3aed;
            font-weight: bold;
        }
        
        footer {
            text-align: center;
            margin-top: 40px;
            padding: 20px;
            color: #64748b;
            font-size: 0.9rem;
        }
        
        .company-badge {
            display: inline-block;
            background: linear-gradient(90deg, rgba(0, 212, 255, 0.2), rgba(124, 58, 237, 0.2));
            border: 1px solid rgba(0, 212, 255, 0.3);
            padding: 8px 20px;
            border-radius: 30px;
            margin-bottom: 20px;
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <div class="company-badge">üè¶ FinanceGuard Bank</div>
            <h1>Credit Fraud Detection Ontology</h1>
            <p class="subtitle">Graph-Based Fraud Detection & Prevention Architecture</p>
        </header>
        
        <div class="metrics-row">
            <div class="metric-card">
                <div class="metric-value">7</div>
                <div class="metric-label">Entity Types</div>
            </div>
            <div class="metric-card">
                <div class="metric-value">10</div>
                <div class="metric-label">Relationships</div>
            </div>
            <div class="metric-card">
                <div class="metric-value">2</div>
                <div class="metric-label">Timeseries Entities</div>
            </div>
            <div class="metric-card">
                <div class="metric-value">5</div>
                <div class="metric-label">Max Hop Depth</div>
            </div>
            <div class="metric-card">
                <div class="metric-value">~350</div>
                <div class="metric-label">Demo Records</div>
            </div>
        </div>
        
        <div class="diagram-container">
            <div class="mermaid">
erDiagram
    Customer ||--o{ CreditCard : OWNS
    Customer ||--o{ Device : REGISTERED_DEVICE
    Customer ||--o{ FraudAlert : HAS_ALERT
    CreditCard ||--o{ Transaction : HAS_TRANSACTION
    Transaction }o--|| Merchant : OCCURRED_AT
    Transaction }o--|| Device : USED_DEVICE
    Transaction }o--|| GeoLocation : LOCATED_IN_TXN
    Transaction ||--o{ FraudAlert : TRIGGERED
    Merchant }o--|| GeoLocation : LOCATED_IN_MERCHANT
    FraudAlert }o--|| CreditCard : FLAGGED_CARD

    Customer {
        string CustomerId PK
        string FullName
        string Email
        double RiskScore
        string AccountStatus
    }

    CreditCard {
        string CardId PK
        string CardNumber
        string CardType
        double CreditLimit
        boolean IsActive
    }

    Transaction {
        string TransactionId PK
        double Amount
        string TransactionType
        datetime TransactionDate
        string RiskFlag
    }

    Merchant {
        string MerchantId PK
        string MerchantName
        string MerchantCategory
        string RiskTier
    }

    FraudAlert {
        string AlertId PK
        string AlertType
        string Severity
        datetime AlertDate
        string Resolution
    }

    Device {
        string DeviceId PK
        string DeviceType
        string DeviceOS
        boolean IsTrusted
    }

    GeoLocation {
        string LocationId PK
        string City
        string Country
        string RiskZone
    }
            </div>
        </div>
        
        <div class="legend-section">
            <div class="legend-card">
                <div class="legend-title">Entities</div>
                <ul class="entity-list">
                    <li><span class="entity-badge badge-dimension">Dimension</span> Customer - Bank customers with credit accounts</li>
                    <li><span class="entity-badge badge-timeseries">Timeseries</span> CreditCard - Credit card accounts with velocity metrics</li>
                    <li><span class="entity-badge badge-fact">Fact</span> Transaction - Individual credit card transactions</li>
                    <li><span class="entity-badge badge-dimension">Dimension</span> Merchant - Merchants where transactions occur</li>
                    <li><span class="entity-badge badge-fact">Fact</span> FraudAlert - ML-generated fraud alerts</li>
                    <li><span class="entity-badge badge-timeseries">Timeseries</span> Device - Devices used for transactions</li>
                    <li><span class="entity-badge badge-dimension">Dimension</span> GeoLocation - Geographic locations</li>
                </ul>
            </div>
            
            <div class="legend-card">
                <div class="legend-title">Key Relationships</div>
                <ul class="relationship-list">
                    <li>Customer <span class="relationship-arrow">‚Üí OWNS ‚Üí</span> CreditCard</li>
                    <li>CreditCard <span class="relationship-arrow">‚Üí HAS_TRANSACTION ‚Üí</span> Transaction</li>
                    <li>Transaction <span class="relationship-arrow">‚Üí OCCURRED_AT ‚Üí</span> Merchant</li>
                    <li>Transaction <span class="relationship-arrow">‚Üí TRIGGERED ‚Üí</span> FraudAlert</li>
                    <li>Transaction <span class="relationship-arrow">‚Üí USED_DEVICE ‚Üí</span> Device</li>
                    <li>Transaction <span class="relationship-arrow">‚Üí LOCATED_IN_TXN ‚Üí</span> GeoLocation</li>
                    <li>Customer <span class="relationship-arrow">‚Üí REGISTERED_DEVICE ‚Üí</span> Device</li>
                    <li>Merchant <span class="relationship-arrow">‚Üí LOCATED_IN_MERCHANT ‚Üí</span> GeoLocation</li>
                    <li>FraudAlert <span class="relationship-arrow">‚Üí FLAGGED_CARD ‚Üí</span> CreditCard</li>
                    <li>Customer <span class="relationship-arrow">‚Üí HAS_ALERT ‚Üí</span> FraudAlert</li>
                </ul>
            </div>
            
            <div class="legend-card">
                <div class="legend-title">Multi-Hop Use Cases</div>
                <ul class="relationship-list">
                    <li>üîç <strong>Fraud Ring Detection</strong> - Connect customers through shared merchants (5 hops)</li>
                    <li>üì± <strong>Device Compromise</strong> - Trace affected customers from compromised devices (4 hops)</li>
                    <li>‚úàÔ∏è <strong>Impossible Travel</strong> - Detect geographically impossible transactions (3 hops)</li>
                    <li>üè™ <strong>Merchant Risk</strong> - Identify customers exposed to risky merchants (3 hops)</li>
                </ul>
            </div>
            
            <div class="legend-card">
                <div class="legend-title">Data Sources</div>
                <ul class="relationship-list">
                    <li>üóÑÔ∏è <strong>Lakehouse</strong> - DimCustomer, DimCreditCard, DimMerchant, DimDevice, DimGeoLocation</li>
                    <li>üóÑÔ∏è <strong>Lakehouse</strong> - FactTransaction, FactFraudAlert, FactCustomerDevice</li>
                    <li>‚ö° <strong>Eventhouse</strong> - CardTelemetry (velocity, spend, decline rate)</li>
                    <li>‚ö° <strong>Eventhouse</strong> - DeviceTelemetry (logins, sessions)</li>
                </ul>
            </div>
        </div>
        
        <footer>
            <p>Microsoft Fabric Ontology Demo | FinanceGuard Bank - Credit Fraud Detection | January 2026</p>
        </footer>
    </div>
    
    <script>
        mermaid.initialize({
            startOnLoad: true,
            theme: 'dark',
            themeVariables: {
                primaryColor: '#7c3aed',
                primaryTextColor: '#ffffff',
                primaryBorderColor: '#00d4ff',
                lineColor: '#64748b',
                secondaryColor: '#1e293b',
                tertiaryColor: '#0f172a',
                background: '#1a1a2e',
                mainBkg: '#1e293b',
                nodeBorder: '#00d4ff',
                clusterBkg: '#1e293b',
                titleColor: '#00d4ff',
                edgeLabelBackground: '#1e293b'
            },
            er: {
                diagramPadding: 20,
                layoutDirection: 'TB',
                minEntityWidth: 100,
                minEntityHeight: 75,
                entityPadding: 15,
                useMaxWidth: true
            }
        });
    </script>
</body>
</html>
